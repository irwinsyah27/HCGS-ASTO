<?xml version="1.0" encoding="utf-8"?><Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2008/01/reportdefinition"><DataSources><DataSource Name="DataSource2"><DataSourceReference>DS_ABS</DataSourceReference><rd:DataSourceID xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">bec78f95-b347-4031-8fdb-a508b3dc43e1</rd:DataSourceID></DataSource></DataSources><DataSets><DataSet Name="DataSource2"><Fields><Field Name="Nrp"><DataField>nrp</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.String</rd:TypeName></Field><Field Name="Nama"><DataField>NAMA</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.String</rd:TypeName></Field><Field Name="Dept"><DataField>Dept</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.String</rd:TypeName></Field><Field Name="Golongan"><DataField>Golongan</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.String</rd:TypeName></Field><Field Name="Bulan"><DataField>Bulan</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.String</rd:TypeName></Field><Field Name="Awal"><DataField>Awal</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.DateTime</rd:TypeName></Field><Field Name="Akhir"><DataField>Akhir</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.DateTime</rd:TypeName></Field><Field Name="Lembur"><DataField>Lembur</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.Double</rd:TypeName></Field><Field Name="MalamHari"><DataField>MalamHari</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.Int32</rd:TypeName></Field><Field Name="SiangHari"><DataField>SiangHari</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.Int32</rd:TypeName></Field><Field Name="TotalHari"><DataField>TotalHari</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.Int32</rd:TypeName></Field></Fields><Query><DataSourceName>DataSource2</DataSourceName><CommandText>SELECT     nrp, NAMA, Dept, Golongan, @Bulan AS Bulan, CONVERT(DATETIME, SUBSTRING(@Bulan, 1, 2) + '/16/' + SUBSTRING(@Bulan, 4, 4)) AS Awal, 
                      CASE WHEN CAST(Substring(@Bulan, 1, 2) AS Integer) + 1 &lt; 13 THEN CONVERT(DATETIME, CONVERT(Varchar, CAST(Substring(@Bulan, 1, 2) AS Integer) + 1) 
                      + '/15/' + Substring(@Bulan, 4, 4)) ELSE CONVERT(DATETIME, '01/15/' + CONVERT(Varchar, CAST(Substring(@Bulan, 4, 4) AS Integer) + 1)) END AS Akhir, SUM(Lembur) 
                      AS Lembur, SUM(MalamHari) AS MalamHari, SUM(SiangHari) AS SiangHari, SUM(TotalHari) AS TotalHari
FROM         (SELECT     A.nrp, A.NAMA, A.OprNonOpr, A.Dept, A.Bulan, A.tanggal, ((((((A.Ke1 * 1.5 + A.Ke2 * 2) + A.Ke17 * 2) + A.Ke8 * 3) + A.Ke9dst * 4) + A.L17 * 3) + A.L8 * 4) 
                                              + A.L9dst * 5 AS Lembur, B.JkpXfaXfatalXfspXfe AS Bonus, A.MalamHari, A.SiangHari, A.MalamHari + A.SiangHari AS TotalHari, A.Golongan
                       FROM          dbo.VW_Rekap_Lembur_tgl AS A LEFT OUTER JOIN
                                              dbo.vw_Rekap_Bonus_a AS B ON A.nrp = B.Nrp AND A.Bulan = B.Bulan AND A.Bulan = B.Fpi_Bulan
                       WHERE      (A.Dept IN (@Departemen)) AND (A.tanggal BETWEEN CONVERT(DATETIME, SUBSTRING(@Bulan, 1, 2) + '/16/' + SUBSTRING(@Bulan, 4, 4)) AND 
                                              CASE WHEN CAST(Substring(@Bulan, 1, 2) AS Integer) + 1 &lt; 13 THEN CONVERT(DATETIME, CONVERT(Varchar, CAST(Substring(@Bulan, 1, 2) AS Integer) 
                                              + 1) + '/15/' + Substring(@Bulan, 4, 4)) ELSE CONVERT(DATETIME, '01/15/' + CONVERT(Varchar, CAST(Substring(@Bulan, 4, 4) AS Integer) + 1)) END)) 
                      AS TBL
Where Golongan BETWEEN (CASE When @Gol='19-UP' THEN 19 ELSE 0 END) AND (CASE WHEN @Gol='19-UP' THEN 28 ELSE 18 END)
GROUP BY nrp, NAMA, Dept, Golongan</CommandText><QueryParameters><QueryParameter Name="@Departemen"><Value>=Parameters!Departemen.Value</Value></QueryParameter><QueryParameter Name="@Bulan"><Value>=Parameters!Bulan.Value</Value></QueryParameter><QueryParameter Name="@Gol"><Value>=Parameters!Gol.Value</Value></QueryParameter></QueryParameters><rd:UseGenericDesigner xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">true</rd:UseGenericDesigner></Query></DataSet><DataSet Name="DataDepartemen"><Fields><Field Name="Dept"><DataField>Dept</DataField><rd:TypeName xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">System.String</rd:TypeName></Field></Fields><Query><DataSourceName>DataSource2</DataSourceName><CommandText>Select Dept From tbl_dept</CommandText><rd:UseGenericDesigner xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">true</rd:UseGenericDesigner></Query></DataSet></DataSets><Body><ReportItems><Tablix Name="table1"><TablixBody><TablixColumns><TablixColumn><Width>0.98425in</Width></TablixColumn><TablixColumn><Width>2.06693in</Width></TablixColumn><TablixColumn><Width>0.99987in</Width></TablixColumn><TablixColumn><Width>0.7874in</Width></TablixColumn><TablixColumn><Width>0.7874in</Width></TablixColumn><TablixColumn><Width>0.7874in</Width></TablixColumn><TablixColumn><Width>0.7874in</Width></TablixColumn><TablixColumn><Width>0.68898in</Width></TablixColumn></TablixColumns><TablixRows><TablixRow><Height>0.20997in</Height><TablixCells><TablixCell><CellContents><Subreport Name="subreport1"><ReportName>Detail_ Lembur_Per_Periode_Per_Nrp</ReportName><Parameters><Parameter Name="Awal"><Value>=Fields!Awal.Value</Value></Parameter><Parameter Name="Akhir"><Value>=Fields!Akhir.Value</Value></Parameter><Parameter Name="Nrp"><Value>=Fields!Nrp.Value</Value></Parameter></Parameters><KeepTogether>true</KeepTogether><Style><Border><Color>LightGrey</Color><Style>Solid</Style></Border></Style></Subreport><ColSpan>8</ColSpan></CellContents></TablixCell><TablixCell /><TablixCell /><TablixCell /><TablixCell /><TablixCell /><TablixCell /><TablixCell /></TablixCells></TablixRow></TablixRows></TablixBody><TablixColumnHierarchy><TablixMembers><TablixMember /><TablixMember /><TablixMember /><TablixMember /><TablixMember /><TablixMember /><TablixMember /><TablixMember /></TablixMembers></TablixColumnHierarchy><TablixRowHierarchy><TablixMembers><TablixMember><Group Name="table1_Details_Group"><PageBreak><BreakLocation>StartAndEnd</BreakLocation></PageBreak><DataElementName>Detail</DataElementName></Group><TablixMembers><TablixMember /></TablixMembers><DataElementName>Detail_Collection</DataElementName><DataElementOutput>Output</DataElementOutput><KeepTogether>true</KeepTogether></TablixMember></TablixMembers></TablixRowHierarchy><DataSetName>DataSource2</DataSetName><Height>0.53332cm</Height><Width>20.03966cm</Width><Style /></Tablix></ReportItems><Height>0.20997in</Height><Style /></Body><ReportParameters><ReportParameter Name="Departemen"><DataType>String</DataType><Prompt>Departemen</Prompt><ValidValues><DataSetReference><DataSetName>DataDepartemen</DataSetName><ValueField>Dept</ValueField><LabelField>Dept</LabelField></DataSetReference></ValidValues><MultiValue>true</MultiValue></ReportParameter><ReportParameter Name="Bulan"><DataType>String</DataType><DefaultValue><Values><Value>=Format(Today  ,"MM") &amp; "/" &amp; Year(Today)</Value></Values></DefaultValue><Prompt>Bulan</Prompt></ReportParameter><ReportParameter Name="Gol"><DataType>String</DataType><Prompt>Gol</Prompt><ValidValues><ParameterValues><ParameterValue><Value>18-DW</Value><Label>18-DW</Label></ParameterValue><ParameterValue><Value>19-UP</Value><Label>19-UP</Label></ParameterValue></ParameterValues></ValidValues></ReportParameter></ReportParameters><Width>7.88963in</Width><Page><PageWidth>9.5in</PageWidth><InteractiveHeight>11in</InteractiveHeight><InteractiveWidth>8.5in</InteractiveWidth><LeftMargin>0.59055in</LeftMargin><RightMargin>0.3937in</RightMargin><TopMargin>0.98425in</TopMargin><BottomMargin>0.98425in</BottomMargin><ColumnSpacing>0.3937in</ColumnSpacing><Style /></Page><Language>id-ID</Language><ConsumeContainerWhitespace>true</ConsumeContainerWhitespace><rd:ReportID xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">ad79cc0c-8d25-4e2a-8508-9756da5013e8</rd:ReportID><rd:ReportUnitType xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">Inch</rd:ReportUnitType></Report>